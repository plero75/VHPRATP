<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Dashboard Transports - Hippodrome de Vincennes</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="static/idfm.css">
  <link rel="stylesheet" href="static/idfm-responsive.css">
  <link rel="stylesheet" href="static/idfm-direction.css">
</head>
<body>
  <header>
    <div class="header-left">
      <img src="img/logo-vincennes.png" alt="Logo Vincennes" class="logo" onerror="this.src='https://placehold.co/200x60?text=Vincennes';this.onerror=null;">
      <h1>Dashboard Transports</h1>
    </div>
    <div class="header-right">
      <span id="clock">--:--</span>
      <span id="lastUpdate" class="last-update">Maj --:--</span>
    </div>
  </header>

  <div id="top-alert" class="top-status" style="display:none"></div>
  <div id="top-news" class="top-news" style="display:none"></div>

  <section class="grid-3">
    <div class="card-dark" id="card-rer">
      <div class="card-head"><span class="pill">A</span><div class="dir">RER A – Joinville-le-Pont</div></div>
      <div id="rer-traffic" class="traffic-sub" style="display:none"></div>
      <div class="minutes-row" id="rer-minutes"></div>
    </div>

    <div class="card-dark" id="card-hippo-77">
      <div class="card-head"><span class="pill" data-lineref="C02251">77</span><div class="dir">Hippodrome – Bus 77</div></div>
      <div class="minutes-row" id="hippo-77-minutes"></div>
    </div>

    <div class="card-dark" id="card-breuil-77201">
      <div class="card-head"><span class="pill" data-lineref="C02251">77</span><span class="pill" data-lineref="C02251">201</span><div class="dir">École du Breuil – 77 & 201</div></div>
      <div class="minutes-row" id="breuil-minutes"></div>
    </div>
  </section>

  <section class="tile-wrap">
    <div class="tile-headline" style="margin:10px 15px;color:#223;opacity:.7">Arrêt Joinville‑le‑Pont — Tous bus</div>
    <div class="all-bus" id="joinville-all-bus"></div>
  </section>

  <section class="lower-grid">
    <div class="bloc" id="velib">
      <div class="bloc-header"><h2>🚲 Vélib’ disponibles</h2></div>
      <div class="velib-list">
        <div><strong>Vincennes :</strong> <span id="velib-vincennes">—</span></div>
        <div><strong>Breuil :</strong> <span id="velib-breuil">—</span></div>
      </div>
    </div>

    <div class="bloc" id="courses">
      <div class="bloc-header"><h2>🏇 Prochaines courses</h2></div>
      <div id="courses-list" class="courses-info"><div class="loading">Chargement…</div></div>
    </div>

    <div class="bloc" id="trafic-routier">
      <div class="bloc-header"><h2>🛣️ Trafic routier (Sytadin)</h2></div>
      <div id="road-list" class="road-list"><div class="loading">Chargement…</div></div>
    </div>
  </section>

  <footer>
    <p>© Hippodrome de Vincennes – Données: Île-de-France Mobilités, RATP, SNCF, Open‑Meteo, Opendata Paris, PMU</p>
  </footer>

  <script src="script.js"></script>
  <script src="patches/hotpatch-buildMonitoringRef.js"></script>
  <script src="patches/traffic-lineRef.patch.js"></script>
  <script src="patches/courses-pmu-fallback.js"></script>
  <script src="patches/line-pill-colors.js"></script>
  <script src="patches/line-pill-extended-ui.js"></script>
  <script src="patches/helpers-idfm-render.js"></script>
  <script src="patches/makeMinuteCol-hotfix.js"></script>
  <script src="patches/insertSplit-hotfix.js"></script>
  <script src="patches/render-idfm-layout.js"></script>
  <script src="patches/commercial-line-names.js"></script>
  <script src="patches/direction-minute-render.js"></script>
  <script src="patches/direction-header-override.js"></script>
</body>
</html>